<div
  style="
    max-width: 28rem;
    margin: auto;
    margin-top: 1.5rem;
    background-color: #ffffff;
    padding: 2rem;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    border-radius: 0.375rem;
  "
>
  <!-- Add a profile icon -->
  <div
    style="position: relative; cursor: pointer"
    (click)="toggleProfileCard()"
  >
  <button routerLink="/ridersPayment">Payment</button>
  <svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 24 24"
  width="32"
  height="32"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <path d="M12 2c-2.761 0-5 2.239-5 5.001v4.229C5 14.781 2 17.01 2 19.874v.5C2 22.432 3.568 24 5.5 24h13c1.933 0 3.5-1.568 3.5-3.5v-.5c0-2.864-3-5.093-5-8.644V7.001C17 4.239 14.761 2 12 2zM9 20.5c0-1.933 1.567-3.5 3.5-3.5s3.5 1.567 3.5 3.5"></path>
</svg>


  </div>

  <!-- Profile card -->
  <div *ngIf="showProfileCard">
    <h2 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem">
      User Payment Details
    </h2>
    <div *ngIf="userPaymentDetails">
      <p><strong>Card Number:</strong> {{ userPaymentDetails.cardNumber }}</p>
      <p><strong>Expire Date:</strong> {{ userPaymentDetails.expireDate }}</p>
      <p><strong>CVV:</strong> {{ userPaymentDetails.cvv }}</p>
      <p><strong>Country:</strong> {{ userPaymentDetails.country }}</p>
      <p><strong>Zip Code:</strong> {{ userPaymentDetails.zip }}</p>
      <button
        (click)="editPaymentDetails(userPaymentDetails)"
        style="
          width: 40%;
          background-color: #0077cc;
          color: #ffffff;
          padding: 0.5rem;
          border: none;
          border-radius: 0.25rem;
          cursor: pointer;
          transition: background-color 0.3s ease-in-out;
        "
      >
        Edit
      </button>
      <button
        (click)="deletePaymentDetails(userPaymentDetails._id)"
        style="
          width: 40%;
          background-color: #0077cc;
          color: #ffffff;
          padding: 0.5rem;
          border: none;
          border-radius: 0.25rem;
          cursor: pointer;
          transition: background-color 0.3s ease-in-out;
        "
      >
        Delete
      </button>
    </div>
  </div>
  <div *ngIf="!showProfileCard">
    <h2 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem">
      Payment
    </h2>
    <form [formGroup]="paymentForm" (ngSubmit)="onSubmit()">
      <label for="cardNumber">Card Number: </label>
      <input
        style="
          width: 100%;
          margin-bottom: 1rem;
          padding: 0.5rem;
          border: 1px solid #ccc;
          border-radius: 0.25rem;
        "
        type="text"
        placeholder="Ex:000000000000"
        required
        formControlName="cardNumber"
      />
      <div *ngIf="showCardNumberErrors()">
        <span *ngIf="paymentForm?.get('cardNumber')?.errors?.['required']"
          >Card Number is required</span
        >
        <span *ngIf="paymentForm?.get('cardNumber')?.errors?.['pattern']"
          >Invalid Card Number</span
        >
        <span
          *ngIf="paymentForm?.get('cardNumber')?.errors?.['maxlength'] !== null"
          >Card Number must be 10 digits</span
        >
      </div>
      <div style="display: flex">
        <div style="display: flex; flex-direction: column">
          <div>
            <label for="expire-date">Expire Date: </label>
          </div>
          <div>
            <input
              style="
                width: 70%;
                margin-bottom: 1rem;
                padding: 0.5rem;
                border: 1px solid #ccc;
                border-radius: 0.25rem;
              "
              type="text"
              placeholder="MM/DD/YY"
              required
              formControlName="expireDate"
            />
          </div>
          <div *ngIf="showExpiredDateErrors()">
            <span *ngIf="paymentForm?.get('expireDate')?.errors?.['required']"
              >Expired Date is required</span
            >
            <span *ngIf="paymentForm?.get('expireDate')?.errors?.['pattern']"
              >Invalid Card Number</span
            >
          </div>
        </div>
        <div style="display: flex; flex-direction: column">
          <div>
            <label for="cvv">CVV: </label>
          </div>
          <div>
            <input
              style="
                width: 70%;
                margin-bottom: 1rem;
                padding: 0.5rem;
                border: 1px solid #ccc;
                border-radius: 0.25rem;
              "
              type="text"
              placeholder="CVV"
              required
              formControlName="cvv"
            />
          </div>
          <div>
            <div *ngIf="showCVVErrors()">
              <span *ngIf="paymentForm?.get('cvv')?.errors?.['required']"
                >CVV Number is required</span
              >
              <span *ngIf="paymentForm?.get('cvv')?.errors?.['pattern']"
                >Invalid CVV Number</span
              >
              <span
                *ngIf="paymentForm?.get('cvv')?.errors?.['maxlength'] !== null"
                >CVV Number must be 3 digits</span
              >
            </div>
          </div>
        </div>
      </div>
      <label for="country">Country: </label>

      <input
        id="country"
        type="text"
        formControlName="country"
        style="
          width: 100%;
          margin-bottom: 1rem;
          padding: 0.5rem;
          border: 1px solid #ccc;
          border-radius: 0.25rem;
        "
        type="text"
        placeholder="Ex:United States"
        required
      /><br />
      <div *ngIf="showCountryErrors()">
        <span *ngIf="paymentForm?.get('country')?.errors?.['required']"
          >Country is required</span
        >
      </div>

      <div>
        <label for="zip">Zip Code: </label>
        <input
          id="zip"
          type="text"
          formControlName="zip"
          style="
            width: 100%;
            margin-bottom: 1rem;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 0.25rem;
          "
          type="text"
          placeholder="Ex:11111"
          required
        /><br />
      </div>
      <div *ngIf="showZipCodeErrors()">
        <span *ngIf="paymentForm?.get('zip')?.errors?.['required']"
          >Zip Code is required</span
        >
        <span *ngIf="paymentForm?.get('zip')?.errors?.['pattern']"
          >Invalid Zip Code</span
        >
        <span *ngIf="paymentForm?.get('zip')?.errors?.['maxlength'] !== null"
          >Zip Code must be 5 digits</span
        >
      </div>
      <button
        style="
          width: 100%;
          background-color: #0077cc;
          color: #ffffff;
          padding: 0.5rem;
          border: none;
          border-radius: 0.25rem;
          cursor: pointer;
          transition: background-color 0.3s ease-in-out;
        "
        type="submit"
      >
        Submit
      </button>
    </form>
  </div> 
</div>
<!-- [disabled]="paymentForm.invalid" -->
